# v1.3.0 - Multi-Interface & Smart Bandwidth

**Major Feature Update**: Full support for simultaneous Ethernet and Wi-Fi optimization, plus smarter bandwidth limits.

## New Features

### 1. Multi-Interface Support
hifi-wifi now detects and optimizes **ALL** active network interfaces simultaneously.
- **Scenario**: If you have both Ethernet and Wi-Fi connected, both will be optimized.
- **Benefit**: Seamless switching between networks without losing bufferbloat protection.

### 2. Smart Bandwidth Limits
The bandwidth limit logic has been completely overhauled to be safer and smarter:
- **Logic**: `Limit = MIN(Internet Speed, Link Speed)`
- **Why?**
    - If your Internet is 500Mbps but Wi-Fi link is only 300Mbps, sending 500Mbps will cause packet loss at the Wi-Fi chip. We now cap it at 300Mbps.
    - If your Internet is 100Mbps but Ethernet link is 1000Mbps, we cap at 100Mbps to ensure CAKE (bufferbloat protection) actually works.

### 3. Reliable Speed Test Fallback
- **Fix**: Replaced broken Cloudflare fallback URLs (which were returning 404s) with reliable **Tele2 Speedtest** endpoints.
- **Benefit**: Prevents "Speed test returned 0" errors when `speedtest-cli` fails.

## Bug Fixes
- **Fixed**: "Unable to turn off Power Save" ([#6](https://github.com/doughty247/hifi-wifi/issues/6)). Added explicit NetworkManager configuration to force disable Wi-Fi power saving.
- **Fixed**: "unbound variable" error during apply.
- **Fixed**: Bandwidth limits being set to "0mbit" on very slow connections (now minimum 1mbit).
- **Fixed**: Correctly handles integer arithmetic for bandwidth calculations.

## How to Update
1. Update hifi-wifi.
2. Run `sudo hifi-wifi --apply` to apply the new multi-interface optimizations.
